<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Squid Game Survival Slots</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
:root {
  --neon-red: #ff0040;
  --neon-pink: #ff40ff;
  --neon-green: #4fff00;
  --neon-blue: #00eaff;
  --bg-dark: #181922;
  --panel: #23243a;
  --jackpot: #ffb800;
  --major: #00d6ff;
  --mini: #8aff00;
  --mega: #ff00b7;
}

body {
  background: radial-gradient(ellipse at top, #2e2e4c 0%, #0d0d13 100%);
  min-height: 100vh;
  color: #fff;
  font-family: 'Orbitron', Arial, sans-serif;
  margin: 0;
}

.game-container {
  max-width: 420px;
  margin: 0 auto;
  box-shadow: 0 0 32px 8px #000a;
  border-radius: 18px;
  background: var(--bg-dark);
  padding: 0 0 18px 0;
  overflow: hidden;
}

header {
  padding: 20px 0 6px 0;
}

.jackpot-labels {
  display: flex;
  justify-content: space-around;
  margin-bottom: 4px;
}
.jackpot {
  font-size: 0.95em;
  font-weight: bold;
  padding: 4px 7px;
  border-radius: 9px;
  text-align: center;
  margin: 0 2px;
  text-shadow: 0 2px 8px #0008, 0 0 2px #000;
}
.jackpot span { display: block; font-size: 1.1em; margin-top: 2px; }
.jackpot.max { background: var(--jackpot); color: #222; }
.jackpot.major { background: var(--major); color: #00273b; }
.jackpot.mini { background: var(--mini); color: #1a2b14; }
.jackpot.mega { background: var(--mega); color: #32001c; }

.game-title {
  text-align: center;
  font-size: 1.4em;
  font-weight: bold;
  letter-spacing: 2px;
  color: var(--neon-red);
  text-shadow: 0 0 10px var(--neon-pink), 0 2px 0 #000;
  margin-bottom: 4px;
}

.slot-board {
  background: #23243a;
  margin: 0 auto 6px auto;
  border-radius: 14px;
  border: 3px solid var(--neon-red);
  box-shadow: 0 0 26px 0 var(--neon-red);
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  grid-template-rows: repeat(4, 1fr);
  gap: 7px;
  width: 99%;
  max-width: 410px;
  height: 300px;
  position: relative;
  overflow: hidden;
}

.symbol-cell {
  background: #191a2c;
  border-radius: 10px;
  box-shadow: 0 0 6px #ff00408c;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  transition: box-shadow 0.15s;
  width: 100%;
  height: 100%;
}

.symbol-cell img {
  display: block;
  max-width: 55px;
  max-height: 55px;
  margin: 0 auto;
  filter: drop-shadow(0 0 5px var(--neon-pink));
  user-select: none;
  pointer-events: none;
}

.symbol-cell.win {
  box-shadow: 0 0 18px 4px #ffe56a, 0 0 8px 2px #fff;
  z-index: 2;
  animation: winflasher 0.7s alternate 2;
}
@keyframes winflasher {
  0% { box-shadow: 0 0 18px #ffe56a, 0 0 8px #fff; }
  100% { box-shadow: 0 0 32px 10px #fffc59, 0 0 16px #fff; }
}

.ui-panel {
  display: flex;
  align-items: center;
  justify-content: space-around;
  margin: 10px 0 0 0;
  padding: 8px 0 0 0;
}

.bet-controls {
  display: flex;
  align-items: center;
  gap: 8px;
}
.bet-label {
  font-size: 1.1em;
  color: #ffe56a;
  font-weight: bold;
  margin: 0 3px;
}
#bet-amount {
  font-size: 1.2em;
  font-weight: bold;
  min-width: 52px;
  color: #fff;
}

#bet-minus, #bet-plus {
  background: #181a2c;
  color: var(--neon-red);
  border: 2px solid var(--neon-red);
  font-size: 1.5em;
  border-radius: 50%;
  width: 38px;
  height: 38px;
  cursor: pointer;
  transition: background 0.12s;
}
#bet-minus:active, #bet-plus:active {
  background: var(--neon-red);
  color: #fff;
}

.spin-btn {
  width: 70px; height: 70px;
  border-radius: 50%;
  background: var(--neon-red);
  border: 4px solid #fff;
  box-shadow: 0 0 16px #ff004088;
  margin: 0 18px;
  cursor: pointer;
  position: relative;
  font-size: 2.6em;
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.13s, box-shadow 0.13s;
}
.spin-btn:after {
  content: "â†»";
  font-size: 2em;
  font-weight: bold;
  position: absolute;
  left: 0; right: 0; top: 0; bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
}
.spin-btn:active { background: #e10037; }

.bonus-controls {
  display: flex;
  flex-direction: column;
  gap: 5px;
}
.bonus-btn {
  background: #ffc600;
  color: #222;
  font-weight: bold;
  border: none;
  border-radius: 14px;
  padding: 8px 12px;
  font-size: 0.98em;
  box-shadow: 0 0 5px #ffd70088;
  cursor: pointer;
  transition: background 0.12s;
}
.bonus-btn:active { background: #ffe800; }

.info-panel {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 8px 0 0 0;
  gap: 5px;
}
#result-message {
  min-height: 22px;
  font-size: 1.1em;
  text-align: center;
  color: #fffc59;
  text-shadow: 0 0 8px #ffe56a;
}
.free-spin-banner {
  color: var(--neon-green);
  font-weight: bold;
  background: #181a2c;
  border: 2px solid var(--neon-green);
  padding: 3px 12px;
  border-radius: 11px;
  font-size: 1.07em;
  margin-bottom: 2px;
  letter-spacing: 2px;
  box-shadow: 0 0 8px #83ff62;
  animation: fsbanner 1.5s infinite alternate;
}
@keyframes fsbanner {
  to { box-shadow: 0 0 16px #bfff7a, 0 0 14px #fff; }
}

footer {
  margin-top: 12px;
  text-align: center;
  font-size: 0.92em;
  color: #aaa;
  letter-spacing: 1px;
}

@media (max-width: 600px) {
  .game-container { max-width: 99vw; }
  .slot-board { max-width: 99vw; height: 37vw; min-height: 220px; }
  .symbol-cell img { max-width: 9vw; max-height: 9vw; }
  .spin-btn { width: 14vw; height: 14vw; min-width: 50px; min-height: 50px; }
  }
  </style>
</head>
<body>
  <div class="game-container">
    <header>
      <div class="jackpot-labels">
        <div class="jackpot mini">MINI<br><span id="mini-win">2,000</span></div>
        <div class="jackpot major">MAJOR<br><span id="major-win">10,000</span></div>
        <div class="jackpot mega">MEGA<br><span id="mega-win">100,000</span></div>
        <div class="jackpot max">MAX WIN<br><span id="max-win">2,400,000</span></div>
      </div>
      <div class="game-title">SQUID GAME SURVIVAL</div>
    </header>
    <main>
      <div class="slot-board" id="slot-board">
        <!-- reels and symbols inserted by JS -->
      </div>
      <div class="ui-panel">
        <div class="bet-controls">
          <button id="bet-minus" aria-label="Decrease Bet">-</button>
          <span class="bet-label">BET</span>
          <span id="bet-amount">100</span>
          <button id="bet-plus" aria-label="Increase Bet">+</button>
        </div>
        <button id="spin-btn" class="spin-btn"></button>
        <div class="bonus-controls">
          <button id="buy-bonus" class="bonus-btn">BUY BONUS</button>
        </div>
      </div>
      <div class="info-panel">
        <div>BALANCE: <span id="balance">20,000</span></div>
        <div id="free-spin-banner" class="free-spin-banner" style="display:none;">
          FREE GAME - <span id="free-spin-count">0</span> LEFT!
        </div>
        <div id="result-message"></div>
      </div>
    </main>
    <footer>
      <div class="copyright">Fan-made Squid Game Slot. Not for real gambling.</div>
    </footer>
  </div>
  <audio id="win-sound" src="assets/win.mp3" preload="auto"></audio>
  <audio id="spin-sound" src="assets/spin.mp3" preload="auto"></audio>
  <audio id="bonus-sound" src="assets/bonus.mp3" preload="auto"></audio>
  <script>
// Squid Game Survival Slot - 5x4 Grid, Free Spins, Stake Static Demo

// ========== SYMBOLS (replace src with your own asset paths) ==========
const SYMBOLS = [
  { name: "circle",  img: "assets/circle.png" },
  { name: "triangle",img: "assets/triangle.png" },
  { name: "square",  img: "assets/square.png" },
  { name: "umbrella",img: "assets/umbrella.png" },
  { name: "doll",    img: "assets/doll.png" },
  { name: "guard",   img: "assets/guard.png" },
  { name: "money",   img: "assets/money.png" },
  { name: "fs",      img: "assets/free_spin.png" },    // Free spin scatter
  { name: "player",  img: "assets/player.png" },
  { name: "coin",    img: "assets/coin.png" },
];

const ROWS = 4, REELS = 5;
const INITIAL_BALANCE = 20000;
const BETS = [100, 200, 400, 1000, 2000, 5000];
const FREE_GAME_TRIGGER = 3; // how many fs symbols for bonus

let state = {
  board: [],
  balance: INITIAL_BALANCE,
  betIdx: 0,
  spinning: false,
  freeGames: 0,
  fsLeft: 0,
};

// ========== DOM ELEMENTS ==========
const $ = id => document.getElementById(id);
const slotBoard = $("slot-board");
const betMinus = $("bet-minus"), betPlus = $("bet-plus");
const betAmount = $("bet-amount"), balanceEl = $("balance");
const spinBtn = $("spin-btn"), resultMsg = $("result-message");
const buyBonus = $("buy-bonus"), fsBanner = $("free-spin-banner"), fsCount = $("free-spin-count");
const winSound = $("win-sound"), spinSound = $("spin-sound"), bonusSound = $("bonus-sound");

// ========== INIT ==========
function preloadImages() {
  SYMBOLS.forEach(s => { let img = new Image(); img.src = s.img; });
}
function drawBoard(board, winCells=[]) {
  slotBoard.innerHTML = "";
  for(let r=0;r<ROWS;r++) {
    for(let c=0;c<REELS;c++) {
      let idx = r*REELS+c;
      let sIdx = board[r][c];
      let cell = document.createElement("div");
      cell.className = "symbol-cell" + (winCells.some(([rr,cc])=>rr===r&&cc===c)?" win":"");
      let img = document.createElement("img");
      img.src = SYMBOLS[sIdx].img;
      img.alt = SYMBOLS[sIdx].name;
      cell.appendChild(img);
      slotBoard.appendChild(cell);
    }
  }
}
function updateUI() {
  betAmount.textContent = BETS[state.betIdx];
  balanceEl.textContent = state.balance.toLocaleString();
  if(state.freeGames>0) {
    fsBanner.style.display="inline-block";
    fsCount.textContent=state.fsLeft;
  } else {
    fsBanner.style.display="none";
  }
}
function setResult(msg,color="#fffc59") {
  resultMsg.textContent = msg;
  resultMsg.style.color = color;
  resultMsg.style.textShadow = color==="red"?"0 0 6px #f00":"0 0 8px #ffe56a";
}

// ========== GAME LOGIC ==========
function genRandomBoard() {
  // For demo: random symbols, but more FS during bonus
  let fsCount = 0, out = [];
  for(let r=0;r<ROWS;r++) {
    let row=[];
    for(let c=0;c<REELS;c++) {
      let idx;
      if(state.freeGames && Math.random()<0.13) idx=7,fsCount++; // more FS in bonus
      else idx=Math.floor(Math.random()*SYMBOLS.length-1);
      if(idx<0) idx=0;
      row.push(idx);
    }
    out.push(row);
  }
  // Guarantee FS trigger if buying bonus or first bonus spin
  if(state.forceFS) {
    let placed=0;
    while(placed<FREE_GAME_TRIGGER) {
      let r=Math.floor(Math.random()*ROWS),c=Math.floor(Math.random()*REELS);
      if(out[r][c]!==7) out[r][c]=7,placed++;
    }
    state.forceFS=false;
  }
  return out;
}
function findWins(board) {
  // For demo: only pay for 5-in-a-row horizontally or vertically (change as needed)
  let wins=[];
  // Horizontals
  for(let r=0;r<ROWS;r++) {
    let sym=board[r][0];
    if(sym===7) continue; // skip FS
    let ok=true;
    for(let c=1;c<REELS;c++) if(board[r][c]!==sym) ok=false;
    if(ok) for(let c=0;c<REELS;c++) wins.push([r,c]);
  }
  // Verticals
  for(let c=0;c<REELS;c++) {
    let sym=board[0][c];
    if(sym===7) continue;
    let ok=true;
    for(let r=1;r<ROWS;r++) if(board[r][c]!==sym) ok=false;
    if(ok) for(let r=0;r<ROWS;r++) wins.push([r,c]);
  }
  return wins;
}
function countFS(board) {
  let count=0;
  for(let r=0;r<ROWS;r++) for(let c=0;c<REELS;c++) if(board[r][c]===7) count++;
  return count;
}
function spin(replayFS=false) {
  if(state.spinning) return;
  if(!state.freeGames && state.balance<BETS[state.betIdx]) {
    setResult("Insufficient balance!","red");
    return;
  }
  state.spinning=true;
  spinBtn.disabled=true;
  setResult("SPINNING...","#fff");
  spinSound.currentTime=0; spinSound.play();

  // Deduct bet if not in free game
  if(!state.freeGames) state.balance-=BETS[state.betIdx];

  // Animate spin: show random symbols, then settle result
  let frames=12, cur=0;
  let anim=setInterval(()=>{
    let tempBoard = genRandomBoard();
    drawBoard(tempBoard);
    cur++;
    if(cur>=frames) {
      clearInterval(anim);
      // Final actual spin:
      let board = genRandomBoard();
      state.board = board;
      drawBoard(board);
      // Check for wins
      let fs = countFS(board);
      let wins = findWins(board);
      let winAmt = 0;
      if(wins.length) {
        winSound.currentTime=0; winSound.play();
        winAmt = BETS[state.betIdx]*5;
        state.balance+=winAmt;
        drawBoard(board,wins);
        setResult("WIN! +" + winAmt,"#fffc59");
      } else setResult(fs?"":"Try Again!","#fff");
      // Free Spin trigger
      if(fs>=FREE_GAME_TRIGGER && !state.freeGames) {
        bonusSound.currentTime=0; bonusSound.play();
        state.freeGames=8; state.fsLeft=8;
        fsBanner.style.display="inline-block";
        setTimeout(()=>setResult("FREE GAMES! 8 Spins","#4fff00"),400);
      }
      // Free Game decrement
      if(state.freeGames) {
        state.fsLeft--;
        if(state.fsLeft<=0) {
          state.freeGames=0;
          setTimeout(()=>setResult("Bonus Over!","#ff0040"),700);
        }
      }
      updateUI();
      state.spinning=false;
      spinBtn.disabled=false;
    }
  },55);
}

// ========== EVENT HANDLERS ==========
betMinus.onclick=()=>{ if(state.spinning) return;
  if(state.betIdx>0) state.betIdx--; updateUI();
};
betPlus.onclick=()=>{ if(state.spinning) return;
  if(state.betIdx<BETS.length-1) state.betIdx++; updateUI();
};
spinBtn.onclick=()=>spin();
document.addEventListener('keydown',e=>{
  if(e.code==='Space'||e.key===' ')spin();
});

buyBonus.onclick=()=>{
  if(state.spinning||state.freeGames) return;
  if(state.balance<BETS[state.betIdx]*10) {
    setResult("Not enough for bonus buy!","red"); return;
  }
  state.balance-=BETS[state.betIdx]*10;
  state.forceFS=true; // guarantee FS
  setResult("BONUS BOUGHT!","#bfff7a");
  spin();
  updateUI();
};

// ========== INIT ==========
function init() {
  preloadImages();
  state.board=[];
  for(let r=0;r<ROWS;r++) {
    let row=[];
    for(let c=0;c<REELS;c++) row.push(Math.floor(Math.random()*SYMBOLS.length));
    state.board.push(row);
  }
  drawBoard(state.board);
  updateUI();
  setResult("Ready to play!");
}
init();
    
  </script>
</body>
</html>
